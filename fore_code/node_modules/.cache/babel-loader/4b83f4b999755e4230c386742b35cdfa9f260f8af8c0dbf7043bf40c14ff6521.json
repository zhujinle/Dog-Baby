{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      // 左侧菜单数据\n      menulist: [],\n      // 左侧菜单图标\n      iconsObj: {\n        '100': 'iconfont icon-xinwen',\n        '200': 'iconfont icon-a-shenhe1',\n        '300': 'iconfont icon-pinglun',\n        '400': 'iconfont icon-ziliao',\n        '500': 'iconfont icon-yonghuguanli'\n      },\n      // 是否折叠\n      isCollapse: false\n    };\n  },\n  created() {\n    this.getMenuList();\n  },\n  methods: {\n    logout() {\n      window.sessionStorage.clear();\n      this.$router.push(\"/login\");\n    },\n    // 获取所有菜单（'menus'路径需根据API调整）\n    async getMenuList() {\n      const {\n        data: res\n      } = await this.$http.post('getmenus');\n      if (res.data.statusCode !== 200) return this.$message.error(res.data.msg);\n      window.sessionStorage.setItem('token', res.data.token);\n      this.menulist = res.data;\n      console.log(res);\n    },\n    // 点击按钮，展开/折叠菜单\n    toggleCollapse() {\n      this.isCollapse = !this.isCollapse;\n    }\n  }\n};","map":{"version":3,"names":["data","menulist","iconsObj","isCollapse","created","getMenuList","methods","logout","window","sessionStorage","clear","$router","push","res","$http","post","statusCode","$message","error","msg","setItem","token","console","log","toggleCollapse"],"sources":["src/components/Admin.vue"],"sourcesContent":["<template>\r\n\t<el-container class=\"admin-container\">\r\n\t\t<!-- 头部区域 -->\r\n\t\t<el-header>\r\n\t\t\t<img src=\"../assets/logo.png\">\r\n\t\t\t<span>Dog-Baby后台管理系统</span>\r\n\t\t\t<el-button type=\"info\" @click = \"logout()\">退出</el-button>\r\n\t\t</el-header>\r\n\t\t<!-- 页面主体区域 -->\r\n\t\t<el-container>\r\n\t\t\t<!-- 侧边栏区域 -->\r\n\t\t\t<el-aside :width=\"isCollapse ? '64px' : '200px' \">\r\n\t\t\t\t<div class=\"toggle-button\" @click=\"toggleCollapse\">|||</div>\r\n\t\t\t\t<!-- 侧边栏菜单区域 -->\r\n\t\t\t\t<el-menu background-color=\"#545c64\" text-color=\"#fff\" active-text-color=\"#ffd04b\" unique-opened :collapse=\"isCollapse\"\r\n\t\t\t\t:collapse-transition=\"false\" router>\r\n\t\t\t\t\t<!-- API(v-for循环读取菜单数据，从menulist中读取每一条一级菜单的数据，在此命名为item) -->\r\n\t\t\t\t\t<!-- 一级菜单 -->\r\n\t\t\t\t\t<el-submenu index=\"item.id + '' \" v-for=\"item in menulist\" :key=\"item.id\">\r\n\t\t\t\t\t\t<template slot=\"title\">\r\n\t\t\t\t\t\t\t<i :class=\"iconsObj[item.id]\"></i>\r\n\t\t\t\t\t\t\t<span>{{item.authName}}</span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!-- 二级菜单(利用v-for从menulist中读取上述一级菜单item下的二级菜单item.children，并命名为subItem) -->\r\n\t\t\t\t\t\t<el-menu-item :index=\"'/' + subItem.path\" v-for=\"subItem in item.children\" :key=\"subItem.id\">\r\n\t\t\t\t\t\t\t<template slot=\"title\">\r\n\t\t\t\t\t\t\t\t<i class=\"el-icon-menu\"></i>\r\n\t\t\t\t\t\t\t\t<span>{{subItem.authName}}</span>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-menu-item>\t\r\n\t\t\t\t\t</el-submenu>\r\n\t\t\t\t</el-menu>\r\n\t\t\t</el-aside>\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<!-- 一级菜单 -->\r\n\t\t\t\t\t<!-- <el-submenu index=\"1\">\r\n\t\t\t\t\t\t<template slot=\"title\">\r\n\t\t\t\t\t\t\t<i :class=\"iconsObj[100]\"></i>\r\n\t\t\t\t\t\t\t<span>新闻</span>\r\n\t\t\t\t\t\t</template> -->\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!-- 二级菜单 -->\r\n\t\t\t\t\t\t<!-- <el-menu-item index=\"/views\">\r\n\t\t\t\t\t\t\t<template slot=\"title\">\r\n\t\t\t\t\t\t\t\t<i class=\"el-icon-menu\"></i>\r\n\t\t\t\t\t\t\t\t<span>全部新闻</span>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-menu-item>\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<el-menu-item index=\"/write\">\r\n\t\t\t\t\t\t\t<template slot=\"title\">\r\n\t\t\t\t\t\t\t\t<i class=\"el-icon-menu\"></i>\r\n\t\t\t\t\t\t\t\t<span>写新闻</span>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-menu-item>\t\r\n\t\t\t\t\t</el-submenu> -->\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 一级菜单 -->\r\n\t\t\t\t\t<!-- <el-submenu index=\"2\">\r\n\t\t\t\t\t\t<template slot=\"title\">\r\n\t\t\t\t\t\t\t<i :class=\"iconsObj[200]\"></i>\r\n\t\t\t\t\t\t\t<span>审核</span>\r\n\t\t\t\t\t\t</template> -->\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!-- 二级菜单 -->\r\n\t\t\t\t\t\t<!-- <el-menu-item index=\"/done\">\r\n\t\t\t\t\t\t\t<template slot=\"title\">\r\n\t\t\t\t\t\t\t\t<i class=\"el-icon-menu\"></i>\r\n\t\t\t\t\t\t\t\t<span>已审核</span>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-menu-item>\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<el-menu-item index=\"/pending\">\r\n\t\t\t\t\t\t\t<template slot=\"title\">\r\n\t\t\t\t\t\t\t\t<i class=\"el-icon-menu\"></i>\r\n\t\t\t\t\t\t\t\t<span>待审核</span>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</el-menu-item>\t\r\n\t\t\t\t\t</el-submenu> -->\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 用二级菜单展示下列模块，可以正常实现按路由跳转对应页面 -->\r\n\t\t\t\t\t<!-- <el-menu-item index=\"/comments\">\r\n\t\t\t\t\t\t<i :class=\"iconsObj[300]\"></i>\r\n\t\t\t\t\t\t<span>评论</span>\r\n\t\t\t\t\t</el-menu-item>\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<el-menu-item index=\"/myInfo\">\r\n\t\t\t\t\t\t<i :class=\"iconsObj[400]\"></i>\r\n\t\t\t\t\t\t<span>个人资料</span>\r\n\t\t\t\t\t</el-menu-item>\t\r\n\r\n\t\t\t\t\t<el-menu-item index=\"/manage\">\r\n\t\t\t\t\t\t<i :class=\"iconsObj[500]\"></i>\r\n\t\t\t\t\t\t<span>用户管理</span>\r\n\t\t\t\t\t</el-menu-item>\t\r\n\r\n\t\t\t\t</el-menu>\r\n\t\t\t</el-aside> -->\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<!-- 右侧内容主体 -->\r\n\t\t\t<el-main>\r\n\t\t\t\t<!-- 路由占位符 -->\r\n\t\t\t\t<router-view></router-view>\r\n\t\t\t</el-main>\r\n\t\t</el-container>\r\n\t</el-container>\n</template>\n\n<script>\r\n\texport default{\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 左侧菜单数据\r\n\t\t\t\tmenulist: [],\r\n\t\t\t\t// 左侧菜单图标\r\n\t\t\t\ticonsObj: {\r\n\t\t\t\t        '100': 'iconfont icon-xinwen',\r\n\t\t\t\t        '200': 'iconfont icon-a-shenhe1',\r\n\t\t\t\t        '300': 'iconfont icon-pinglun',\r\n\t\t\t\t        '400': 'iconfont icon-ziliao',\r\n\t\t\t\t        '500': 'iconfont icon-yonghuguanli'\r\n\t\t\t\t      },\r\n\t\t\t\t// 是否折叠\r\n\t\t\t\tisCollapse: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getMenuList()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlogout() {\r\n\t\t\t\twindow.sessionStorage.clear();\r\n\t\t\t\tthis.$router.push(\"/login\");\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取所有菜单（'menus'路径需根据API调整）\r\n\t\t\tasync getMenuList(){\r\n\t\t\t\tconst {data: res} = await this.$http.post('getmenus')\r\n\t\t\t\tif(res.data.statusCode !== 200) return this.$message.error(res.data.msg)\r\n\r\n\t\t\t\twindow.sessionStorage.setItem('token', res.data.token)\t\r\n\t\t\t\t\r\n\t\t\t\tthis.menulist = res.data\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t},\r\n\t\t\t// 点击按钮，展开/折叠菜单\r\n\t\t\ttoggleCollapse(){\r\n\t\t\t\tthis.isCollapse = !this.isCollapse\r\n\t\t\t}\r\n\t\t}\r\n\t};\n</script>\n\n<style lang=\"less\" scoped>\r\n\t.admin-container{\r\n\t\theight: 100%;\r\n\t}\r\n\t.el-header{\r\n\t\tbackground-color: #3f3f3f;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding-left: 10px;\r\n\t\talign-items: center;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 20px;\r\n\t}\r\n\t.el-header img{\r\n\t\tpadding-left: 10px;\r\n\t\theight: 80px;\r\n\t\twidth: 80px;\r\n\t}\r\n\t.el-aside{\r\n\t\tbackground-color: #545c64;\r\n\t}\r\n\t.el-menu{\r\n\t\tborder-right: none;\r\n\t}\r\n\t.el-main{\r\n\t\tbackground-color: #fffae8;\r\n\t}\r\n\t.toggle-button{\r\n\t\tbackground-color: #a6a9ad;\r\n\t\tfont-size: 17px;\r\n\t\tline-height: 30px;\r\n\t\tcolor: #fff;\r\n\t\ttext-align: center;\r\n\t\tletter-spacing: 0.2em;\r\n\t}\r\n\t.iconfont{\r\n\t\tmargin-right: 10px;\r\n\t\tfont-size: 20px;\r\n\t}\n</style>"],"mappings":";AAgHA;EACAA,KAAA;IACA;MACA;MACAC,QAAA;MACA;MACAC,QAAA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACAC,OAAA;MACAC,MAAA,CAAAC,cAAA,CAAAC,KAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IAEA;IACA,MAAAP,YAAA;MACA;QAAAL,IAAA,EAAAa;MAAA,eAAAC,KAAA,CAAAC,IAAA;MACA,IAAAF,GAAA,CAAAb,IAAA,CAAAgB,UAAA,sBAAAC,QAAA,CAAAC,KAAA,CAAAL,GAAA,CAAAb,IAAA,CAAAmB,GAAA;MAEAX,MAAA,CAAAC,cAAA,CAAAW,OAAA,UAAAP,GAAA,CAAAb,IAAA,CAAAqB,KAAA;MAEA,KAAApB,QAAA,GAAAY,GAAA,CAAAb,IAAA;MACAsB,OAAA,CAAAC,GAAA,CAAAV,GAAA;IACA;IACA;IACAW,eAAA;MACA,KAAArB,UAAA,SAAAA,UAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}